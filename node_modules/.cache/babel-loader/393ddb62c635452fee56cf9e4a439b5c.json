{"ast":null,"code":"import \"antd/es/card/style/css\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/select/style/css\";\nimport _Select from \"antd/es/select\";\nvar _jsxFileName = \"D:\\\\desk\\\\\\u5C1A\\u7845\\u8C37React\\u5168\\u6808\\u9879\\u76EE\\u3010\\u8C37\\u7C92\\u540E\\u53F0\\u3011\\u6559\\u7A0B\\\\React-admin\\\\src\\\\pages\\\\product\\\\home.jsx\";\nimport React, { Component } from 'react';\nimport '@ant-design/icons';\nimport LinkButton from '../../component/link-button';\nimport { reqProducts } from '../../api/';\nimport { PAGE_SIZE } from '../../utils/constant';\n/* 默认字路由 */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Option = _Select.Option;\nexport default class Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      total: 0\n    };\n\n    this.getProducts = async pageNum => {\n      const result = await reqProducts(pageNum, 100);\n      console.log(result);\n\n      if (result.status === 200) {\n        this.setState({\n          products: result.data.data.list,\n          total: result.data.data.total\n        });\n      }\n    };\n  }\n\n  UNSAFE_componentWillMount() {\n    this.columns = [{\n      width: 300,\n      title: '商品名称',\n      dataIndex: 'name',\n      key: 'name'\n    }, {\n      title: '商品描述',\n      dataIndex: 'desc',\n      key: 'desc'\n    }, {\n      width: 100,\n      title: '价格',\n      dataIndex: 'price',\n      key: 'price',\n      render: price => '￥' + price\n    }, {\n      width: 150,\n      title: '状态',\n      dataIndex: 'status',\n      key: 'status',\n      render: status => {\n        return status ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(_Button, {\n            type: \"primary\",\n            children: \"\\u4E0B\\u67B6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u5728\\u552E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 37\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(_Button, {\n            type: \"primary\",\n            children: \"\\u4E0A\\u67B6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u4E0B\\u67B6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 46\n        }, this);\n      }\n    }, {\n      width: 100,\n      title: '操作',\n      dataIndex: 'action',\n      key: 'action',\n      render: () => {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(LinkButton, {\n            children: \"\\u8BE6\\u60C5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 34\n          }, this), /*#__PURE__*/_jsxDEV(LinkButton, {\n            children: \"\\u4FEE\\u6539\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 28\n        }, this);\n      }\n    }];\n  }\n\n  componentDidMount() {\n    this.getProducts(3);\n  }\n\n  render() {\n    const title = /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(_Select, {\n        style: {\n          width: 150\n        },\n        children: /*#__PURE__*/_jsxDEV(Option, {\n          value: \"1\",\n          children: \"\\u6309\\u540D\\u79F0\\u641C\\u7D22\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(_Input, {\n        style: {\n          width: 200\n        },\n        placeholder: \"\\u5173\\u952E\\u5B57\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 89\n      }, this), /*#__PURE__*/_jsxDEV(_Button, {\n        type: \"primary\",\n        children: \"\\u641C\\u7D22\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 135\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this);\n\n    const extra = /*#__PURE__*/_jsxDEV(\"button\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n\n    const total = this.state;\n    return /*#__PURE__*/_jsxDEV(_Card, {\n      title: title,\n      extra: extra,\n      children: [/*#__PURE__*/_jsxDEV(_Table, {\n        pagination: {\n          total,\n          defaultPageSize: PAGE_SIZE,\n          showQuickJumper: true\n        },\n        bordered: true,\n        rowKey: \"_id\",\n        dataSource: this.state.products,\n        columns: this.columns\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), \";\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/desk/尚硅谷React全栈项目【谷粒后台】教程/React-admin/src/pages/product/home.jsx"],"names":["React","Component","LinkButton","reqProducts","PAGE_SIZE","Option","Home","state","products","total","getProducts","pageNum","result","console","log","status","setState","data","list","UNSAFE_componentWillMount","columns","width","title","dataIndex","key","render","price","componentDidMount","extra","defaultPageSize","showQuickJumper"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport {Card,Select,Input,Button,Table}from 'antd'\r\nimport {} from '@ant-design/icons'\r\nimport LinkButton from '../../component/link-button'\r\nimport {reqProducts} from '../../api/'\r\nimport {PAGE_SIZE} from '../../utils/constant'\r\n/* 默认字路由 */\r\nconst Option = Select.Option\r\nexport default class Home extends Component {\r\n    state={\r\n        products:[],\r\n        total:0\r\n    }\r\n    /* 获取指定页码的料表数据 */\r\n    getProducts=async (pageNum)=>{\r\n        const result =await reqProducts(pageNum,100);\r\n        console.log(result);\r\n        if(result.status===200){\r\n            this.setState({products:result.data.data.list,total:result.data.data.total})\r\n        }\r\n    }\r\n    UNSAFE_componentWillMount(){\r\n            this.columns = [\r\n                {\r\n                    width:300,\r\n                  title: '商品名称',\r\n                  dataIndex: 'name',\r\n                  key: 'name',\r\n                },\r\n                {\r\n                  title: '商品描述',\r\n                  dataIndex: 'desc',\r\n                  key: 'desc',\r\n                },\r\n                {\r\n                    width:100,\r\n                  title: '价格',\r\n                  dataIndex: 'price',\r\n                  key: 'price',\r\n                  render:(price) => '￥'+price\r\n                  \r\n                },\r\n                {\r\n                    width:150,\r\n                  title: '状态',\r\n                  dataIndex: 'status',\r\n                  key: 'status',\r\n                  render:(status) => {\r\n                      return status?<span>\r\n                      <Button type='primary'>下架</Button>\r\n                      <span>在售</span></span>:<span>\r\n                      <Button type='primary'>上架</Button>\r\n                      <span>下架</span></span>\r\n                  }\r\n                },\r\n                {\r\n                    width:100,\r\n                  title: '操作',\r\n                  dataIndex: 'action',\r\n                  key: 'action',\r\n                  render:()=>{\r\n                    return <span><LinkButton>详情</LinkButton>\r\n                    <LinkButton>修改</LinkButton></span>\r\n                  }\r\n                },\r\n              ];    \r\n    }\r\n    componentDidMount(){\r\n        this.getProducts(3);\r\n    }\r\n    render() {\r\n        const title=(\r\n            <span><Select style={{width:150}}><Option value='1' >按名称搜索</Option></Select><Input style={{width:200}} placeholder='关键字'/><Button type='primary'>搜索</Button></span>)\r\n        const extra=(\r\n            <button></button>)\r\n            const total = this.state\r\n      \r\n        return (\r\n            \r\n            <Card title={title} extra={extra}>\r\n                <Table pagination={{total,defaultPageSize:PAGE_SIZE,showQuickJumper:true}} bordered rowKey='_id' dataSource={this.state.products} columns={this.columns} />;\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}