{"ast":null,"code":"import \"antd/es/card/style/css\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nvar _jsxFileName = \"D:\\\\desk\\\\\\u5C1A\\u7845\\u8C37React\\u5168\\u6808\\u9879\\u76EE\\u3010\\u8C37\\u7C92\\u540E\\u53F0\\u3011\\u6559\\u7A0B\\\\React-admin\\\\src\\\\pages\\\\role\\\\index.jsx\";\nimport React, { Component } from \"react\";\nimport { PAGE_SIZE } from \"../../utils/constant\";\nimport { reqRoleList } from '../../api';\n/* 角色路由 */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Role extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      roles: [],\n      role: {}\n    };\n\n    this.getRoles = async () => {\n      const result = await reqRoleList();\n\n      if (result.status === 0) {\n        const roles = result.data;\n        this.setState({\n          roles\n        });\n      }\n    };\n\n    this.initColumn = () => {\n      this.columns = [{\n        title: \"角色名称\",\n        dataIndex: \"name\"\n      }, {\n        title: \"创建时间\",\n        dataIndex: \"create_time\"\n      }, {\n        title: \"授权时间\",\n        dataIndex: \"auth_time\"\n      }, {\n        title: \"授权人\",\n        dataIndex: \"admin\"\n      }];\n    };\n  }\n\n  componentDidMount() {\n    this.getRoles();\n  }\n\n  UNSAFE_componentWillMount() {\n    this.initColumn();\n  }\n\n  render() {\n    const title = /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(_Button, {\n        type: \"primary\",\n        children: \"\\u521B\\u5EFA\\u89D2\\u8272\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Button, {\n        type: \"primary\",\n        disabled: true,\n        children: \"\\u8BBE\\u7F6E\\u89D2\\u8272\\u6743\\u9650\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n\n    const {\n      roles,\n      role\n    } = this.state; // console.log(roles)\n\n    console.log(this.columns);\n    return /*#__PURE__*/_jsxDEV(_Card, {\n      title: title,\n      children: /*#__PURE__*/_jsxDEV(_Table, {\n        rowKey: \"_id\",\n        pagination: {\n          pageSize: PAGE_SIZE // , total: 50\n\n        },\n        dataSource: roles,\n        columns: this.columns,\n        loading: this.state.loading,\n        rowSelection: {\n          type: \"radio\",\n          selectedRowKeys: [role._id]\n        } //设置单选\n        ,\n        onRow: record => {\n          return {\n            onClick: event => {\n              console.log(record);\n              this.setState({\n                role\n              });\n            },\n            // 点击行\n            onDoubleClick: event => {},\n            onContextMenu: event => {},\n            onMouseEnter: event => {},\n            // 鼠标移入行\n            onMouseLeave: event => {}\n          };\n        },\n        bordered: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/desk/尚硅谷React全栈项目【谷粒后台】教程/React-admin/src/pages/role/index.jsx"],"names":["React","Component","PAGE_SIZE","reqRoleList","Role","state","loading","roles","role","getRoles","result","status","data","setState","initColumn","columns","title","dataIndex","componentDidMount","UNSAFE_componentWillMount","render","console","log","pageSize","type","selectedRowKeys","_id","record","onClick","event","onDoubleClick","onContextMenu","onMouseEnter","onMouseLeave"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Card, Button, Table } from \"antd\";\r\nimport { PAGE_SIZE } from \"../../utils/constant\";\r\nimport {reqRoleList} from '../../api'\r\n/* 角色路由 */\r\nexport default class Role extends Component {\r\n  state = {\r\n    loading:false,\r\n    roles: [\r\n    ],\r\n    role:{},\r\n\r\n  };\r\n  getRoles = async() =>{\r\n      const result= await reqRoleList()\r\n        if(result.status===0){\r\n            const roles= result.data\r\n            this.setState({\r\n                roles\r\n            })\r\n        }\r\n  } \r\n  initColumn = () => {\r\n    this.columns = [\r\n      {\r\n        title: \"角色名称\",\r\n        dataIndex: \"name\",\r\n      },\r\n      {\r\n        title: \"创建时间\",\r\n        dataIndex: \"create_time\",\r\n      },\r\n      {\r\n        title: \"授权时间\",\r\n        dataIndex: \"auth_time\",\r\n      },\r\n      {\r\n        title: \"授权人\",\r\n        dataIndex: \"admin\",\r\n      },\r\n    ];\r\n  };\r\n  componentDidMount(){\r\n    this.getRoles()\r\n  }\r\n  UNSAFE_componentWillMount(){\r\n    this.initColumn()\r\n  }\r\n  render() {\r\n    const title = (\r\n      <span>\r\n        <Button type=\"primary\">创建角色</Button>\r\n        <Button type=\"primary\" disabled>\r\n          设置角色权限\r\n        </Button>\r\n      </span>\r\n    );\r\n    const { roles,role } = this.state;\r\n    // console.log(roles)\r\n    console.log(this.columns)\r\n    return (\r\n        \r\n      <Card title={title}>\r\n        <Table\r\n          rowKey=\"_id\"\r\n          pagination={{\r\n            pageSize: PAGE_SIZE,\r\n            // , total: 50\r\n          }}\r\n          dataSource={roles}\r\n          columns={this.columns}\r\n          loading={this.state.loading}\r\n          rowSelection={{ type: \"radio\" ,selectedRowKeys:[role._id]}}//设置单选\r\n          onRow={record => {\r\n            return {\r\n              onClick: event => {\r\n                  console.log(record)\r\n                  this.setState({role})\r\n                }, // 点击行\r\n              onDoubleClick: event => {},\r\n              onContextMenu: event => {},\r\n              onMouseEnter: event => {}, // 鼠标移入行\r\n              onMouseLeave: event => {},\r\n            };\r\n          }\r\n        }\r\n        bordered\r\n        />\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}