{"ast":null,"code":"import \"antd/es/tree/style/css\";\nimport _Tree from \"antd/es/tree\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nvar _jsxFileName = \"D:\\\\desk\\\\\\u5C1A\\u7845\\u8C37React\\u5168\\u6808\\u9879\\u76EE\\u3010\\u8C37\\u7C92\\u540E\\u53F0\\u3011\\u6559\\u7A0B\\\\React-admin\\\\src\\\\pages\\\\role\\\\setTree.jsx\";\nimport React, { Component } from \"react\";\nimport menuConfig from \"../../config/menuConfig\";\nimport menuList from \"../../config/menuConfig\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class SetTree extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getMenus = () => this.state.checkedKeys;\n\n    const {\n      menus\n    } = this.props.role; // console.log(menus)\n\n    this.state = {\n      checkedKeys: menus\n    }; // this.setRole=setRole\n    // this.setState({\n    //     checkedKeys:menus,\n    // })\n  } // getTreeNodes=()=>{\n  //     return menuList.reduce((pre,item)=>{\n  //         pre\n  //         return pre\n  //     },[])\n  // }\n  // UNSAFE_componentWillMount(){\n  //     console.log(this.props.role.menus)\n  //     this.setState({cheackedKeys:this.props.role.menus})\n  // }\n\n  /* 为父组件提交获取最新menus数据的方法 */\n\n\n  render() {\n    const {\n      role\n    } = this.props;\n    const {\n      checkedKeys\n    } = this.state;\n    const treeData = menuConfig;\n\n    const onSelect = selectedKeys => {\n      //   console.log(\"selected\", selectedKeys, info);\n      this.setState({\n        checkedKeys: [...this.state.checkedKeys, selectedKeys]\n      });\n    };\n\n    const onCheck = checkedKeys => {\n      // console.log(\"onCheck\", checkedKeys);\n      this.setState({\n        checkedKeys: checkedKeys\n      });\n    };\n\n    const formItemLayout = {\n      labelCol: {\n        span: 4\n      },\n      //左侧label宽度\n      wrapperCol: {\n        span: 10\n      } //右侧包裹输入框宽度\n\n    }; // console.log(this.props);\n    // console.log(checkedKeys)\n\n    return /*#__PURE__*/_jsxDEV(_Form, { ...formItemLayout,\n      children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n        label: \"\\u89D2\\u8272\\u540D\\u79F0\",\n        children: /*#__PURE__*/_jsxDEV(_Input, {\n          value: role.name,\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n        children: /*#__PURE__*/_jsxDEV(_Tree, {\n          checkable: true //   defaultExpandedKeys={['0-0-0', '0-0-1']}\n          ,\n          defaultExpandAll: true //   defaultSelectedKeys={['0-0-0', '0-0-1']}\n          ,\n          checkedKeys: checkedKeys,\n          onSelect: onSelect,\n          onCheck: onCheck,\n          treeData: treeData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nSetTree.propTypes = {\n  role: PropTypes.object.isRequired\n};","map":{"version":3,"sources":["D:/desk/尚硅谷React全栈项目【谷粒后台】教程/React-admin/src/pages/role/setTree.jsx"],"names":["React","Component","menuConfig","menuList","PropTypes","SetTree","constructor","props","getMenus","state","checkedKeys","menus","role","render","treeData","onSelect","selectedKeys","setState","onCheck","formItemLayout","labelCol","span","wrapperCol","name","propTypes","object","isRequired"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,eAAe,MAAMC,OAAN,SAAsBJ,SAAtB,CAAgC;AAK7CK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAuBnBC,QAvBmB,GAuBR,MAAM,KAAKC,KAAL,CAAWC,WAvBT;;AAEjB,UAAM;AAAEC,MAAAA;AAAF,QAAY,KAAKJ,KAAL,CAAWK,IAA7B,CAFiB,CAGjB;;AACA,SAAKH,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAEC;AADF,KAAb,CAJiB,CAOjB;AACA;AACA;AACA;AACD,GAhB4C,CAiB7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;;AAGAE,EAAAA,MAAM,GAAG;AACP,UAAM;AAAED,MAAAA;AAAF,QAAW,KAAKL,KAAtB;AACA,UAAM;AAAEG,MAAAA;AAAF,QAAkB,KAAKD,KAA7B;AACA,UAAMK,QAAQ,GAAGZ,UAAjB;;AACA,UAAMa,QAAQ,GAAIC,YAAD,IAAkB;AACjC;AACA,WAAKC,QAAL,CAAc;AAAEP,QAAAA,WAAW,EAAE,CAAC,GAAG,KAAKD,KAAL,CAAWC,WAAf,EAA2BM,YAA3B;AAAf,OAAd;AACD,KAHD;;AAIA,UAAME,OAAO,GAAIR,WAAD,IAAiB;AAC/B;AACA,WAAKO,QAAL,CAAc;AAAEP,QAAAA,WAAW,EAAEA;AAAf,OAAd;AACD,KAHD;;AAIA,UAAMS,cAAc,GAAG;AACrBC,MAAAA,QAAQ,EAAE;AAAEC,QAAAA,IAAI,EAAE;AAAR,OADW;AACE;AACvBC,MAAAA,UAAU,EAAE;AAAED,QAAAA,IAAI,EAAE;AAAR,OAFS,CAEK;;AAFL,KAAvB,CAZO,CAgBP;AACA;;AACA,wBACE,oBAAUF,cAAV;AAAA,8BACE,cAAM,IAAN;AAAW,QAAA,KAAK,EAAC,0BAAjB;AAAA,+BACE;AAAO,UAAA,KAAK,EAAEP,IAAI,CAACW,IAAnB;AAAyB,UAAA,QAAQ;AAAjC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,cAAM,IAAN;AAAA,+BACE;AACE,UAAA,SAAS,MADX,CAEE;AAFF;AAGE,UAAA,gBAAgB,EAAE,IAHpB,CAIE;AAJF;AAKE,UAAA,WAAW,EAAEb,WALf;AAME,UAAA,QAAQ,EAAEK,QANZ;AAOE,UAAA,OAAO,EAAEG,OAPX;AAQE,UAAA,QAAQ,EAAEJ;AARZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAmBD;;AAnE4C;AAA1BT,O,CACZmB,S,GAAY;AACjBZ,EAAAA,IAAI,EAAER,SAAS,CAACqB,MAAV,CAAiBC;AADN,C","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Tree, Input, Form } from \"antd\";\r\nimport menuConfig from \"../../config/menuConfig\";\r\nimport menuList from \"../../config/menuConfig\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class SetTree extends Component {\r\n  static propTypes = {\r\n    role: PropTypes.object.isRequired,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { menus } = this.props.role;\r\n    // console.log(menus)\r\n    this.state = {\r\n      checkedKeys: menus,\r\n    };\r\n    // this.setRole=setRole\r\n    // this.setState({\r\n    //     checkedKeys:menus,\r\n    // })\r\n  }\r\n  // getTreeNodes=()=>{\r\n  //     return menuList.reduce((pre,item)=>{\r\n  //         pre\r\n  //         return pre\r\n  //     },[])\r\n  // }\r\n  // UNSAFE_componentWillMount(){\r\n  //     console.log(this.props.role.menus)\r\n  //     this.setState({cheackedKeys:this.props.role.menus})\r\n  // }\r\n  /* 为父组件提交获取最新menus数据的方法 */\r\n  getMenus = () => this.state.checkedKeys;\r\n\r\n  render() {\r\n    const { role } = this.props;\r\n    const { checkedKeys } = this.state;\r\n    const treeData = menuConfig;\r\n    const onSelect = (selectedKeys) => {\r\n      //   console.log(\"selected\", selectedKeys, info);\r\n      this.setState({ checkedKeys: [...this.state.checkedKeys,selectedKeys] });\r\n    };\r\n    const onCheck = (checkedKeys) => {\r\n      // console.log(\"onCheck\", checkedKeys);\r\n      this.setState({ checkedKeys: checkedKeys });\r\n    };\r\n    const formItemLayout = {\r\n      labelCol: { span: 4 }, //左侧label宽度\r\n      wrapperCol: { span: 10 }, //右侧包裹输入框宽度\r\n    };\r\n    // console.log(this.props);\r\n    // console.log(checkedKeys)\r\n    return (\r\n      <Form {...formItemLayout}>\r\n        <Form.Item label=\"角色名称\">\r\n          <Input value={role.name} disabled />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Tree\r\n            checkable\r\n            //   defaultExpandedKeys={['0-0-0', '0-0-1']}\r\n            defaultExpandAll={true}\r\n            //   defaultSelectedKeys={['0-0-0', '0-0-1']}\r\n            checkedKeys={checkedKeys}\r\n            onSelect={onSelect}\r\n            onCheck={onCheck}\r\n            treeData={treeData}\r\n          />\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}