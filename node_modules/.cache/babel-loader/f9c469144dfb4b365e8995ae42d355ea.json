{"ast":null,"code":"import \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nvar _jsxFileName = \"D:\\\\desk\\\\\\u5C1A\\u7845\\u8C37React\\u5168\\u6808\\u9879\\u76EE\\u3010\\u8C37\\u7C92\\u540E\\u53F0\\u3011\\u6559\\u7A0B\\\\React-admin\\\\src\\\\component\\\\loginform\\\\index.jsx\";\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\nimport React, { Component } from \"react\";\nimport './index.less';\nimport { reqLogin } from '../../api/index.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class LoginForm extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onFinish = values => {\n      console.log('Received values of form: ', values); // \n\n      const {\n        username,\n        password\n      } = values;\n      reqLogin(username, password).then(response => {\n        console.log('成功了', response.data);\n      }).catch(error => {\n        console.log('失败了', message);\n      });\n    };\n\n    this.onFinishFailed = (values, errorFields, outOfDate) => {\n      console.log('校验失败');\n      values.errorFields.map(x => {\n        return console.log(x.errors);\n      }); // console.log('value------',values)\n    };\n\n    this.validatePwd = (rule, value, callback) => {\n      // console.log(value)\n      if (!value) {\n        callback('密码必须输入');\n      } else if (value.length < 4) {\n        callback('密码不能小于4');\n      } else if (value.length > 12) {\n        callback('密码不能大于12');\n      } else if (!/^[a-zA-Z0-9_]+$/.test(value)) {\n        callback('密码必须由大小写字母或者数字组成');\n      } else {\n        callback(); //验证通过\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Form, {\n      name: \"normal_login\",\n      className: \"login-form\",\n      initialValues: {\n        remember: true\n      },\n      onFinish: this.onFinish,\n      onFinishFailed: this.onFinishFailed,\n      children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n        name: \"username\" // initialValue='username111'\n        ,\n        rules: [{\n          required: true,\n          message: \"请输入用户名!\"\n        }, {\n          min: 3,\n          message: \"最小5位\"\n        }, {\n          max: 15,\n          message: \"最大10位\"\n        }, {\n          pattern: /^[a-zA-Z0-9_]+$/,\n          message: \"必须是英文,数字或下划线组成\"\n        }],\n        children: /*#__PURE__*/_jsxDEV(_Input, {\n          prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {\n            className: \"site-form-item-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }, this),\n          placeholder: \"\\u7528\\u6237\\u540D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n        name: \"password\",\n        rules: [{\n          required: true,\n          message: \"请输入密码!\"\n        }, {\n          validator: this.validatePwd\n        }],\n        children: /*#__PURE__*/_jsxDEV(_Input, {\n          prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n            className: \"site-form-item-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }, this),\n          type: \"password\",\n          placeholder: \"\\u5BC6\\u7801\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n        children: /*#__PURE__*/_jsxDEV(_Button, {\n          type: \"primary\",\n          htmlType: \"submit\",\n          className: \"login-form-button\",\n          children: \"\\u767B\\u9678\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/desk/尚硅谷React全栈项目【谷粒后台】教程/React-admin/src/component/loginform/index.jsx"],"names":["UserOutlined","LockOutlined","React","Component","reqLogin","LoginForm","onFinish","values","console","log","username","password","then","response","data","catch","error","message","onFinishFailed","errorFields","outOfDate","map","x","errors","validatePwd","rule","value","callback","length","test","render","remember","required","min","max","pattern","validator"],"mappings":"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","sourcesContent":["import { Form, Input, Button } from \"antd\";\r\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\r\n\r\nimport React, { Component } from \"react\";\r\nimport './index.less'\r\nimport {reqLogin} from '../../api/index.js'\r\nexport default class LoginForm extends Component {\r\n  onFinish = (values) => {\r\n    console.log('Received values of form: ', values);\r\n    // \r\n    const {username,password} = values;\r\n    reqLogin(username,password).then(response=>{\r\n      console.log('成功了',response.data)\r\n    }).catch(error=>{\r\n      console.log('失败了',message)}\r\n    );\r\n  };\r\n  onFinishFailed=(values, errorFields, outOfDate)=>{\r\n    console.log('校验失败')\r\n    values.errorFields.map(x=>{\r\n      return console.log(x.errors)\r\n    })\r\n    // console.log('value------',values)\r\n  }\r\n  validatePwd=(rule,value,callback)=>{\r\n    // console.log(value)\r\n    if(!value){\r\n      callback('密码必须输入')\r\n    }else if(value.length<4){\r\n      callback('密码不能小于4')\r\n    }else if(value.length>12){\r\n      callback('密码不能大于12')\r\n    }else if(!/^[a-zA-Z0-9_]+$/.test(value)){\r\n      callback('密码必须由大小写字母或者数字组成')\r\n    }else{\r\n      callback()//验证通过\r\n    }\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <Form\r\n        name=\"normal_login\"\r\n        className=\"login-form\"\r\n        initialValues={{\r\n          remember: true,\r\n        }}\r\n        onFinish={this.onFinish}\r\n        onFinishFailed={this.onFinishFailed}\r\n      >\r\n        <Form.Item\r\n          name=\"username\"\r\n          // initialValue='username111'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入用户名!\",\r\n            },\r\n            {\r\n                 min:3,\r\n                 message: \"最小5位\",    \r\n              },                    \r\n            {\r\n                max:15,\r\n                message: \"最大10位\",    \r\n             },\r\n            {\r\n                pattern:/^[a-zA-Z0-9_]+$/,\r\n                message: \"必须是英文,数字或下划线组成\",    \r\n             },\r\n\r\n          ]}\r\n        >\r\n          <Input\r\n            prefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n            placeholder=\"用户名\"\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入密码!\",\r\n            },\r\n            {\r\n              validator:this.validatePwd,\r\n             },\r\n          ]}\r\n        >\r\n          <Input\r\n            prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n            type=\"password\"\r\n            placeholder=\"密码\"\r\n          />\r\n        </Form.Item>\r\n        {/* <Form.Item>\r\n          <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n            <Checkbox>Remember me</Checkbox>\r\n          </Form.Item>\r\n\r\n          <a className=\"login-form-forgot\" href=\"\">\r\n            Forgot password\r\n          </a>\r\n        </Form.Item> */}\r\n\r\n        <Form.Item>\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            className=\"login-form-button\"\r\n          >\r\n            登陸\r\n          </Button>\r\n          {/* Or <a href=\"\">register now!</a> */}\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}