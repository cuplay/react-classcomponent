{"ast":null,"code":"// import json from jsonp\nimport ajax from './ajax.jsx';\nimport jsonp from 'jsonp'; // 包含应用中所有接口请求函数的模块\n// 要求:能根据接口文档定义接口请求\n// 每个函数的返回值都是promise\n//登陆\n\nexport const reqLogin = (username, password) => ajax('/login', {\n  username,\n  password\n}, 'POST');\nexport const reqAddUser = user => ajax('/manage/user/add', user, 'POST');\n/* jsonp请求的接口请求函数 */\n\nexport const reqWeather = city => {\n  const url = `http://restapi.amap.com/v3/weather/weatherInfo?key=98c97d10c1fda37bdc5402d15c1cdd71&city=${city}`;\n  jsonp(url, {}, (err, data) => {\n    console.log(err, data);\n\n    if (!err && data.status === '1') {\n      const {\n        temperature,\n        weather\n      } = data.lives;\n    }\n  });\n}; // reqWeather(\"北京\")","map":{"version":3,"sources":["D:/desk/尚硅谷React全栈项目【谷粒后台】教程/React-admin/src/api/index.js"],"names":["ajax","jsonp","reqLogin","username","password","reqAddUser","user","reqWeather","city","url","err","data","console","log","status","temperature","weather","lives"],"mappings":"AAAA;AACA,OAAOA,IAAP,MAAiB,YAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;AACA;AACA;AAEA;;AAEA,OAAQ,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAUC,QAAV,KAAsBJ,IAAI,CAAC,QAAD,EAAU;AAACG,EAAAA,QAAD;AAAUC,EAAAA;AAAV,CAAV,EAA8B,MAA9B,CAA3C;AAER,OAAQ,MAAMC,UAAU,GAAEC,IAAD,IAAUN,IAAI,CAAC,kBAAD,EAAoBM,IAApB,EAAyB,MAAzB,CAA/B;AAER;;AACA,OAAO,MAAMC,UAAU,GAAEC,IAAD,IAAQ;AAC5B,QAAMC,GAAG,GAAI,4FAA2FD,IAAK,EAA7G;AACAP,EAAAA,KAAK,CAACQ,GAAD,EAAK,EAAL,EAAQ,CAACC,GAAD,EAAKC,IAAL,KAAY;AACrBC,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAAgBC,IAAhB;;AACA,QAAG,CAACD,GAAD,IAAMC,IAAI,CAACG,MAAL,KAAc,GAAvB,EAA2B;AACvB,YAAM;AAACC,QAAAA,WAAD;AAAcC,QAAAA;AAAd,UAAyBL,IAAI,CAACM,KAApC;AACH;AACJ,GALI,CAAL;AAMH,CARM,C,CAUP","sourcesContent":["// import json from jsonp\r\nimport ajax from './ajax.jsx'\r\nimport jsonp from 'jsonp'\r\n// 包含应用中所有接口请求函数的模块\r\n// 要求:能根据接口文档定义接口请求\r\n// 每个函数的返回值都是promise\r\n\r\n//登陆\r\n\r\nexport  const reqLogin = (username,password)=> ajax('/login',{username,password},'POST')\r\n\r\nexport  const reqAddUser=(user)=>  ajax('/manage/user/add',user,'POST')\r\n\r\n/* jsonp请求的接口请求函数 */\r\nexport const reqWeather=(city)=>{\r\n    const url = `http://restapi.amap.com/v3/weather/weatherInfo?key=98c97d10c1fda37bdc5402d15c1cdd71&city=${city}`\r\n    jsonp(url,{},(err,data)=>{\r\n        console.log(err,data)\r\n        if(!err&&data.status==='1'){\r\n            const {temperature, weather} = data.lives\r\n        }\r\n    })\r\n}\r\n\r\n// reqWeather(\"北京\")"]},"metadata":{},"sourceType":"module"}