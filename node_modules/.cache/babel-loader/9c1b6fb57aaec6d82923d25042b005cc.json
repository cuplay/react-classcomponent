{"ast":null,"code":"import \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\n// 能发送异步ajax请求的函数模块\n// 封装axios\nimport axios from 'axios';\n//优化:统一处理请求异常\nexport default function ajax(url, data = {}, type = \"GET\") {\n  return new Promise((resolve, reject) => {\n    let promise; //1.执行异步ajax请求\n\n    if (type === 'GET') {\n      //发get请求\n      promise = axios.get(url, {\n        //配置对象\n        params: data // 指定请求参数\n\n      });\n    } else {\n      //发post请求\n      promise = axios.post(url, data);\n    } //2.如果成功,调用resolve\n\n\n    promise.then(response => {\n      resolve(response); //3.如果失败,调用reject \n    }).catch(error => {\n      _message.error('请求出错了:' + error.message);\n    });\n  });\n} // ajax('/login',{username:'tom',password:'12345'},'post').then()\n// ajax('/manage/user/add',{username:'tom',password:'12345',phone:'12324525525252'},'post').then()","map":{"version":3,"sources":["D:/desk/尚硅谷React全栈项目【谷粒后台】教程/React-admin/src/api/ajax.jsx"],"names":["axios","ajax","url","data","type","Promise","resolve","reject","promise","get","params","post","then","response","catch","error","message"],"mappings":";;AAAA;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA;AACA,eAAe,SAASC,IAAT,CAAcC,GAAd,EAAkBC,IAAI,GAAC,EAAvB,EAA0BC,IAAI,GAAC,KAA/B,EAAsC;AAEjD,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAASC,MAAT,KAAkB;AACjC,QAAIC,OAAJ,CADiC,CAEjC;;AACA,QAAGJ,IAAI,KAAG,KAAV,EAAgB;AACZ;AACAI,MAAAA,OAAO,GAAGR,KAAK,CAACS,GAAN,CAAUP,GAAV,EAAc;AAAC;AACrBQ,QAAAA,MAAM,EAACP,IADa,CACR;;AADQ,OAAd,CAAV;AAGH,KALD,MAKK;AAAC;AACFK,MAAAA,OAAO,GAAER,KAAK,CAACW,IAAN,CAAWT,GAAX,EACLC,IADK,CAAT;AAGH,KAZgC,CAajC;;;AACAK,IAAAA,OAAO,CAACI,IAAR,CAAaC,QAAQ,IAAE;AACnBP,MAAAA,OAAO,CAACO,QAAD,CAAP,CADmB,CAEX;AACX,KAHD,EAGGC,KAHH,CAGSC,KAAK,IAAE;AAEZ,eAAQA,KAAR,CAAc,WAASA,KAAK,CAACC,OAA7B;AACH,KAND;AAQH,GAtBM,CAAP;AAyBH,C,CAED;AACA","sourcesContent":["// 能发送异步ajax请求的函数模块\r\n// 封装axios\r\nimport axios from 'axios'\r\nimport {message} from 'antd'\r\n//优化:统一处理请求异常\r\nexport default function ajax(url,data={},type=\"GET\") {\r\n    \r\n    return new Promise((resolve,reject)=>{\r\n        let promise\r\n        //1.执行异步ajax请求\r\n        if(type==='GET'){\r\n            //发get请求\r\n            promise = axios.get(url,{//配置对象\r\n                params:data // 指定请求参数\r\n            })\r\n        }else{//发post请求\r\n            promise= axios.post(url,\r\n                data\r\n            )\r\n        }\r\n        //2.如果成功,调用resolve\r\n        promise.then(response=>{\r\n            resolve(response)\r\n                    //3.如果失败,调用reject \r\n        }).catch(error=>{\r\n\r\n            message.error('请求出错了:'+error.message)\r\n        })\r\n\r\n    })\r\n\r\n    \r\n}\r\n\r\n// ajax('/login',{username:'tom',password:'12345'},'post').then()\r\n// ajax('/manage/user/add',{username:'tom',password:'12345',phone:'12324525525252'},'post').then()"]},"metadata":{},"sourceType":"module"}