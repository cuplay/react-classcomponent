{"ast":null,"code":"import \"antd/es/card/style/css\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/modal/style/css\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nvar _jsxFileName = \"D:\\\\\\u684C\\u9762\\\\\\u524D\\u7AEF\\u5B9E\\u6218\\\\react_admin_client\\\\src\\\\pages\\\\users\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport { PAGE_SIZE } from '../../utils/constant';\nimport { formateDate } from '../../utils/dataUtils';\nimport LinkButton from '../../component/link-button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Users extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: [],\n      //所有用户列表\n      showStatus: 0\n    };\n\n    this.initColumns = () => {\n      this.columns = [{\n        title: '用户名',\n        dataIndex: 'username'\n      }, {\n        title: '邮箱',\n        dataIndex: 'email'\n      }, {\n        title: '电话',\n        dataIndex: 'phone'\n      }, {\n        title: '注册时间',\n        dataIndex: 'create_time',\n        render: create_time => formateDate(create_time)\n      }, {\n        title: '所属角色',\n        dataIndex: 'role_id'\n      }, {\n        title: '操作',\n        render: user => {\n          /*#__PURE__*/\n          _jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(LinkButton, {\n              children: \"\\u4FEE\\u6539\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(LinkButton, {\n              children: \"\\u5220\\u9664\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 17\n          }, this);\n        }\n      }];\n    };\n  }\n\n  UNSAFE_componentWillMount() {\n    this.initColumns();\n  }\n\n  render() {\n    const {\n      users,\n      showStatus\n    } = this.state;\n\n    const title = /*#__PURE__*/_jsxDEV(_Button, {\n      type: 'primary',\n      children: \"\\u521B\\u5EFA\\u7528\\u6237\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 22\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(_Card, {\n      title: title,\n      children: [/*#__PURE__*/_jsxDEV(_Table, {\n        rowKey: \"_id\",\n        pagination: {\n          pageSize: PAGE_SIZE // , total: 50\n\n        },\n        dataSource: users,\n        columns: this.columns //   loading={this.state.loading}\n        //   rowSelection={{ type: \"radio\", selectedRowKeys: [role._id] }} //设置单选\n        //   onRow={(role) => {\n        //     return {\n        //       onClick: (event) => {\n        //         this.setState({ role });\n        //       }, // 点击行\n        //       onDoubleClick: (event) => {},\n        //       onContextMenu: (event) => {},\n        //       onMouseEnter: (event) => {}, // 鼠标移入行\n        //       onMouseLeave: (event) => {},\n        //     };\n        //   }}\n        ,\n        bordered: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n        title: \"\\u6DFB\\u52A0\\u89D2\\u8272\",\n        visible: showStatus === 1,\n        onOk: this.addRole,\n        onCancel: this.handleCancel,\n        destroyOnClose: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/桌面/前端实战/react_admin_client/src/pages/users/index.jsx"],"names":["React","Component","PAGE_SIZE","formateDate","LinkButton","Users","state","users","showStatus","initColumns","columns","title","dataIndex","render","create_time","user","UNSAFE_componentWillMount","pageSize","addRole","handleCancel"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAAQC,SAAR,QAAwB,sBAAxB;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,OAAOC,UAAP,MAAuB,6BAAvB;;AACA,eAAe,MAAMC,KAAN,SAAoBJ,SAApB,CAA8B;AAAA;AAAA;AAAA,SACzCK,KADyC,GACjC;AACJC,MAAAA,KAAK,EAAC,EADF;AACK;AACTC,MAAAA,UAAU,EAAC;AAFP,KADiC;;AAAA,SAKzCC,WALyC,GAK3B,MAAI;AACd,WAAKC,OAAL,GAAa,CACb;AACIC,QAAAA,KAAK,EAAC,KADV;AAEIC,QAAAA,SAAS,EAAC;AAFd,OADa,EAKb;AACID,QAAAA,KAAK,EAAC,IADV;AAEIC,QAAAA,SAAS,EAAC;AAFd,OALa,EASb;AACID,QAAAA,KAAK,EAAC,IADV;AAEIC,QAAAA,SAAS,EAAC;AAFd,OATa,EAab;AACID,QAAAA,KAAK,EAAC,MADV;AAEIC,QAAAA,SAAS,EAAC,aAFd;AAGIC,QAAAA,MAAM,EAAGC,WAAD,IAAeX,WAAW,CAACW,WAAD;AAHtC,OAba,EAkBb;AACIH,QAAAA,KAAK,EAAC,MADV;AAEIC,QAAAA,SAAS,EAAC;AAFd,OAlBa,EAsBb;AACID,QAAAA,KAAK,EAAC,IADV;AAEIE,QAAAA,MAAM,EAAEE,IAAD,IAAQ;AACX;AAAA;AAAA,oCACI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAIH;AAPL,OAtBa,CAAb;AAgCH,KAtCwC;AAAA;;AAuCzCC,EAAAA,yBAAyB,GAAE;AACvB,SAAKP,WAAL;AACH;;AACDI,EAAAA,MAAM,GAAG;AACL,UAAM;AAACN,MAAAA,KAAD;AAAOC,MAAAA;AAAP,QAAqB,KAAKF,KAAhC;;AACA,UAAMK,KAAK,gBAAE;AAAQ,MAAA,IAAI,EAAE,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAb;;AACA,wBACI;AAAM,MAAA,KAAK,EAAEA,KAAb;AAAA,8BACJ;AACE,QAAA,MAAM,EAAC,KADT;AAEE,QAAA,UAAU,EAAE;AACVM,UAAAA,QAAQ,EAAEf,SADA,CAEV;;AAFU,SAFd;AAME,QAAA,UAAU,EAAEK,KANd;AAOE,QAAA,OAAO,EAAE,KAAKG,OAPhB,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAqBE,QAAA,QAAQ;AArBV;AAAA;AAAA;AAAA;AAAA,cADI,eAwBJ;AACE,QAAA,KAAK,EAAC,0BADR;AAEE,QAAA,OAAO,EAAEF,UAAU,KAAK,CAF1B;AAGE,QAAA,IAAI,EAAE,KAAKU,OAHb;AAIE,QAAA,QAAQ,EAAE,KAAKC,YAJjB;AAKE,QAAA,cAAc,EAAE;AALlB;AAAA;AAAA;AAAA;AAAA,cAxBI;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA6CH;;AA1FwC","sourcesContent":["import React, { Component } from 'react'\r\nimport {Button, Card,Table,Modal} from 'antd'\r\nimport {PAGE_SIZE} from '../../utils/constant'\r\nimport { formateDate } from '../../utils/dataUtils'\r\nimport LinkButton from '../../component/link-button'\r\nexport default class Users extends Component {\r\n    state = {\r\n        users:[],//所有用户列表\r\n        showStatus:0,\r\n    }\r\n    initColumns = ()=>{\r\n        this.columns=[\r\n        {\r\n            title:'用户名',\r\n            dataIndex:'username',\r\n        },\r\n        {\r\n            title:'邮箱',\r\n            dataIndex:'email',\r\n        },\r\n        {\r\n            title:'电话',\r\n            dataIndex:'phone',\r\n        },\r\n        {\r\n            title:'注册时间',\r\n            dataIndex:'create_time',\r\n            render: (create_time)=>formateDate(create_time)\r\n        },\r\n        {\r\n            title:'所属角色',\r\n            dataIndex:'role_id',\r\n        },\r\n        {\r\n            title:'操作',\r\n            render:(user)=>{\r\n                <span>\r\n                    <LinkButton>修改</LinkButton>\r\n                    <LinkButton>删除</LinkButton>\r\n                </span>\r\n            }\r\n        },\r\n    ]\r\n    }\r\n    UNSAFE_componentWillMount(){\r\n        this.initColumns()\r\n    }\r\n    render() {\r\n        const {users,showStatus} = this.state\r\n        const title =<Button type={'primary'}>创建用户</Button>\r\n        return (\r\n            <Card title={title}>\r\n        <Table\r\n          rowKey=\"_id\"\r\n          pagination={{\r\n            pageSize: PAGE_SIZE,\r\n            // , total: 50\r\n          }}\r\n          dataSource={users}\r\n          columns={this.columns}\r\n        //   loading={this.state.loading}\r\n        //   rowSelection={{ type: \"radio\", selectedRowKeys: [role._id] }} //设置单选\r\n        //   onRow={(role) => {\r\n        //     return {\r\n        //       onClick: (event) => {\r\n        //         this.setState({ role });\r\n        //       }, // 点击行\r\n        //       onDoubleClick: (event) => {},\r\n        //       onContextMenu: (event) => {},\r\n        //       onMouseEnter: (event) => {}, // 鼠标移入行\r\n        //       onMouseLeave: (event) => {},\r\n        //     };\r\n        //   }}\r\n          bordered\r\n        />\r\n        <Modal\r\n          title=\"添加角色\"\r\n          visible={showStatus === 1}\r\n          onOk={this.addRole}\r\n          onCancel={this.handleCancel}\r\n          destroyOnClose={true}\r\n        >\r\n          \r\n        </Modal>\r\n        {/* <Modal\r\n          title=\"设置角色权限\"\r\n          visible={showStatus === 2}\r\n          onOk={this.setRole}\r\n          onCancel={this.handleCancel}\r\n          destroyOnClose={true}\r\n        >\r\n          <SetTree role={role} ref={this.auth}/>\r\n        </Modal> */}\r\n      </Card>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}