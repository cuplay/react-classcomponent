{"ast":null,"code":"// oldFF-globalStorage provides storage for Firefox\n// versions 6 and 7, where no localStorage, etc\n// is available.\nvar util = require('../src/util');\n\nvar Global = util.Global;\nmodule.exports = {\n  name: 'oldFF-globalStorage',\n  read: read,\n  write: write,\n  each: each,\n  remove: remove,\n  clearAll: clearAll\n};\nvar globalStorage = Global.globalStorage;\n\nfunction read(key) {\n  return globalStorage[key];\n}\n\nfunction write(key, data) {\n  globalStorage[key] = data;\n}\n\nfunction each(fn) {\n  for (var i = globalStorage.length - 1; i >= 0; i--) {\n    var key = globalStorage.key(i);\n    fn(globalStorage[key], key);\n  }\n}\n\nfunction remove(key) {\n  return globalStorage.removeItem(key);\n}\n\nfunction clearAll() {\n  each(function (key, _) {\n    delete globalStorage[key];\n  });\n}","map":{"version":3,"sources":["D:/桌面/前端实战/react_admin_client/node_modules/store/storages/oldFF-globalStorage.js"],"names":["util","require","Global","module","exports","name","read","write","each","remove","clearAll","globalStorage","key","data","fn","i","length","removeItem","_"],"mappings":"AAAA;AACA;AACA;AAEA,IAAIA,IAAI,GAAGC,OAAO,CAAC,aAAD,CAAlB;;AACA,IAAIC,MAAM,GAAGF,IAAI,CAACE,MAAlB;AAEAC,MAAM,CAACC,OAAP,GAAiB;AAChBC,EAAAA,IAAI,EAAE,qBADU;AAEhBC,EAAAA,IAAI,EAAEA,IAFU;AAGhBC,EAAAA,KAAK,EAAEA,KAHS;AAIhBC,EAAAA,IAAI,EAAEA,IAJU;AAKhBC,EAAAA,MAAM,EAAEA,MALQ;AAMhBC,EAAAA,QAAQ,EAAEA;AANM,CAAjB;AASA,IAAIC,aAAa,GAAGT,MAAM,CAACS,aAA3B;;AAEA,SAASL,IAAT,CAAcM,GAAd,EAAmB;AAClB,SAAOD,aAAa,CAACC,GAAD,CAApB;AACA;;AAED,SAASL,KAAT,CAAeK,GAAf,EAAoBC,IAApB,EAA0B;AACzBF,EAAAA,aAAa,CAACC,GAAD,CAAb,GAAqBC,IAArB;AACA;;AAED,SAASL,IAAT,CAAcM,EAAd,EAAkB;AACjB,OAAK,IAAIC,CAAC,GAAGJ,aAAa,CAACK,MAAd,GAAuB,CAApC,EAAuCD,CAAC,IAAI,CAA5C,EAA+CA,CAAC,EAAhD,EAAoD;AACnD,QAAIH,GAAG,GAAGD,aAAa,CAACC,GAAd,CAAkBG,CAAlB,CAAV;AACAD,IAAAA,EAAE,CAACH,aAAa,CAACC,GAAD,CAAd,EAAqBA,GAArB,CAAF;AACA;AACD;;AAED,SAASH,MAAT,CAAgBG,GAAhB,EAAqB;AACpB,SAAOD,aAAa,CAACM,UAAd,CAAyBL,GAAzB,CAAP;AACA;;AAED,SAASF,QAAT,GAAoB;AACnBF,EAAAA,IAAI,CAAC,UAASI,GAAT,EAAcM,CAAd,EAAiB;AACrB,WAAOP,aAAa,CAACC,GAAD,CAApB;AACA,GAFG,CAAJ;AAGA","sourcesContent":["// oldFF-globalStorage provides storage for Firefox\r\n// versions 6 and 7, where no localStorage, etc\r\n// is available.\r\n\r\nvar util = require('../src/util')\r\nvar Global = util.Global\r\n\r\nmodule.exports = {\r\n\tname: 'oldFF-globalStorage',\r\n\tread: read,\r\n\twrite: write,\r\n\teach: each,\r\n\tremove: remove,\r\n\tclearAll: clearAll,\r\n}\r\n\r\nvar globalStorage = Global.globalStorage\r\n\r\nfunction read(key) {\r\n\treturn globalStorage[key]\r\n}\r\n\r\nfunction write(key, data) {\r\n\tglobalStorage[key] = data\r\n}\r\n\r\nfunction each(fn) {\r\n\tfor (var i = globalStorage.length - 1; i >= 0; i--) {\r\n\t\tvar key = globalStorage.key(i)\r\n\t\tfn(globalStorage[key], key)\r\n\t}\r\n}\r\n\r\nfunction remove(key) {\r\n\treturn globalStorage.removeItem(key)\r\n}\r\n\r\nfunction clearAll() {\r\n\teach(function(key, _) {\r\n\t\tdelete globalStorage[key]\r\n\t})\r\n}\r\n"]},"metadata":{},"sourceType":"script"}