{"ast":null,"code":"import \"antd/es/card/style/css\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/list/style/css\";\nimport _List from \"antd/es/list\";\nimport \"antd/es/message/style/css\";\nimport _Message from \"antd/es/message\";\nvar _jsxFileName = \"D:\\\\desk\\\\\\u5C1A\\u7845\\u8C37React\\u5168\\u6808\\u9879\\u76EE\\u3010\\u8C37\\u7C92\\u540E\\u53F0\\u3011\\u6559\\u7A0B\\\\React-admin\\\\src\\\\pages\\\\product\\\\detail.jsx\";\nimport React, { Component } from \"react\";\nimport { RollbackOutlined } from \"@ant-design/icons\";\nimport { withRouter } from \"react-router-dom\";\nimport { reqCategory } from \"../../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Detail extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cName1: \"\",\n      cName2: \"\"\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      pCategoryId,\n      categoryId\n    } = this.props.location.state.desc;\n\n    if (pCategoryId === \"0\") {\n      // 一级分类\n      const result = await reqCategory(categoryId);\n      console.log(result);\n\n      if (result.data.status === 0) {\n        const cName1 = result.data.data.name;\n        this.setState({\n          cName1\n        });\n      } else {\n        _Message.error(\"请求分类失败\");\n      }\n    } else {\n      /*\r\n      一个一个发      \r\n       const result1 = await reqCategory(categoryId);\r\n            const result2 = await reqCategory(pCategoryId); */\n      //   一次发动多个请求\n      const result = await Promise.all([reqCategory(categoryId), reqCategory(pCategoryId)]);\n\n      if (result1.data.status === 0 & result2.data.status === 0) {\n        /*         const cName1 = result1.data.data.name;\r\n                const cName2 = result2.data.data.name; */\n        this.setState({\n          cName1,\n          cName2\n        });\n      } else {\n        _Message.error(\"请求分类失败\");\n      }\n    }\n  }\n\n  render() {\n    //读取携带过来的state\n    const {\n      name,\n      desc,\n      price,\n      detail,\n      imgs\n    } = this.props.location.state.desc; // console.log(name,desc,price,detail,imgs)\n    // console.log(this.props)\n\n    const title = /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(RollbackOutlined, {\n        onClick: () => this.props.history.goBack()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), \" \", \"\\u5546\\u54C1\\u8BE6\\u60C5\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(_Card, {\n      title: title,\n      children: /*#__PURE__*/_jsxDEV(_List, {\n        children: [/*#__PURE__*/_jsxDEV(_List.Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u540D\\u79F0:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: 0\n            },\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_List.Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u63CF\\u8FF0:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: desc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_List.Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u4EF7\\u683C:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_List.Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u6240\\u5C5E\\u5206\\u7C7B:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [this.state.cName1, this.state.cName2 ? \"-->\" + this.state.cName2 : this.state.cName1]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_List.Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u56FE\\u7247:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: imgs.map(img => /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"product-img\",\n              alt: img.name,\n              src: img.url\n            }, img.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_List.Item, {\n          style: {\n            float: \"left\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u8BE6\\u60C5:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            dangerouslySetInnerHTML: {\n              __html: detail\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Detail);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["D:/desk/尚硅谷React全栈项目【谷粒后台】教程/React-admin/src/pages/product/detail.jsx"],"names":["React","Component","RollbackOutlined","withRouter","reqCategory","Detail","state","cName1","cName2","componentDidMount","pCategoryId","categoryId","props","location","desc","result","console","log","data","status","name","setState","error","Promise","all","result1","result2","render","price","detail","imgs","title","history","goBack","marginLeft","map","img","url","float","__html"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,gBAAT,QAAiC,mBAAjC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,QAA4B,WAA5B;;;AAEA,MAAMC,MAAN,SAAqBJ,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC7BK,KAD6B,GACrB;AACNC,MAAAA,MAAM,EAAE,EADF;AAENC,MAAAA,MAAM,EAAE;AAFF,KADqB;AAAA;;AAKN,QAAjBC,iBAAiB,GAAG;AACxB,UAAM;AAAEC,MAAAA,WAAF;AAAeC,MAAAA;AAAf,QAA8B,KAAKC,KAAL,CAAWC,QAAX,CAAoBP,KAApB,CAA0BQ,IAA9D;;AACA,QAAIJ,WAAW,KAAK,GAApB,EAAyB;AACvB;AACA,YAAMK,MAAM,GAAG,MAAMX,WAAW,CAACO,UAAD,CAAhC;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AACA,UAAIA,MAAM,CAACG,IAAP,CAAYC,MAAZ,KAAuB,CAA3B,EAA8B;AAC5B,cAAMZ,MAAM,GAAGQ,MAAM,CAACG,IAAP,CAAYA,IAAZ,CAAiBE,IAAhC;AACA,aAAKC,QAAL,CAAc;AAAEd,UAAAA;AAAF,SAAd;AACD,OAHD,MAGO;AACL,iBAAQe,KAAR,CAAc,QAAd;AACD;AACF,KAVD,MAUO;AAEX;AACA;AACA;AACA;AACI;AACA,YAAMP,MAAM,GAAG,MAAMQ,OAAO,CAACC,GAAR,CAAY,CAACpB,WAAW,CAACO,UAAD,CAAZ,EAAyBP,WAAW,CAACM,WAAD,CAApC,CAAZ,CAArB;;AACE,UAAKe,OAAO,CAACP,IAAR,CAAaC,MAAb,KAAwB,CAAzB,GAA+BO,OAAO,CAACR,IAAR,CAAaC,MAAb,KAAwB,CAA3D,EAA+D;AACrE;AACA;AACQ,aAAKE,QAAL,CAAc;AAAEd,UAAAA,MAAF;AAAUC,UAAAA;AAAV,SAAd;AACD,OAJD,MAIO;AACL,iBAAQc,KAAR,CAAc,QAAd;AACD;AACF;AACF;;AACDK,EAAAA,MAAM,GAAG;AACP;AACA,UAAM;AAAEP,MAAAA,IAAF;AAAQN,MAAAA,IAAR;AAAcc,MAAAA,KAAd;AAAqBC,MAAAA,MAArB;AAA6BC,MAAAA;AAA7B,QAAsC,KAAKlB,KAAL,CAAWC,QAAX,CAAoBP,KAApB,CAA0BQ,IAAtE,CAFO,CAGP;AACA;;AACA,UAAMiB,KAAK,gBACT;AAAA,8BACE,QAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE,MAAM,KAAKnB,KAAL,CAAWoB,OAAX,CAAmBC,MAAnB;AAAjC;AAAA;AAAA;AAAA;AAAA,cADF,EACmE,GADnE;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;;AAMA,wBACE;AAAM,MAAA,KAAK,EAAEF,KAAb;AAAA,6BACE;AAAA,gCACE,cAAM,IAAN;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAM,YAAA,KAAK,EAAE;AAAEG,cAAAA,UAAU,EAAE;AAAd,aAAb;AAAA,sBAAiCd;AAAjC;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAKE,cAAM,IAAN;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,sBAAON;AAAP;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eASE,cAAM,IAAN;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,sBAAOc;AAAP;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF,eAaE,cAAM,IAAN;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,uBACG,KAAKtB,KAAL,CAAWC,MADd,EAEG,KAAKD,KAAL,CAAWE,MAAX,GACG,QAAQ,KAAKF,KAAL,CAAWE,MADtB,GAEG,KAAKF,KAAL,CAAWC,MAJjB;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbF,eAsBE,cAAM,IAAN;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,sBACGuB,IAAI,CAACK,GAAL,CAAUC,GAAD,iBACR;AAEE,cAAA,SAAS,EAAC,aAFZ;AAGE,cAAA,GAAG,EAAEA,GAAG,CAAChB,IAHX;AAIE,cAAA,GAAG,EAAEgB,GAAG,CAACC;AAJX,eACOD,GAAG,CAAChB,IADX;AAAA;AAAA;AAAA;AAAA,oBADD;AADH;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtBF,eAmCE,cAAM,IAAN;AAAW,UAAA,KAAK,EAAE;AAAEkB,YAAAA,KAAK,EAAE;AAAT,WAAlB;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAM,YAAA,uBAAuB,EAAE;AAAEC,cAAAA,MAAM,EAAEV;AAAV;AAA/B;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AA4CD;;AAzF4B;;AA2F/B,oBAAe1B,UAAU,CAACE,MAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Card, List, Message } from \"antd\";\r\nimport { RollbackOutlined } from \"@ant-design/icons\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { reqCategory } from \"../../api\";\r\n\r\nclass Detail extends Component {\r\n  state = {\r\n    cName1: \"\",\r\n    cName2: \"\",\r\n  };\r\n  async componentDidMount() {\r\n    const { pCategoryId, categoryId } = this.props.location.state.desc;\r\n    if (pCategoryId === \"0\") {\r\n      // 一级分类\r\n      const result = await reqCategory(categoryId);\r\n      console.log(result);\r\n      if (result.data.status === 0) {\r\n        const cName1 = result.data.data.name;\r\n        this.setState({ cName1 });\r\n      } else {\r\n        Message.error(\"请求分类失败\");\r\n      }\r\n    } else {\r\n\r\n/*\r\n一个一个发      \r\n const result1 = await reqCategory(categoryId);\r\n      const result2 = await reqCategory(pCategoryId); */\r\n    //   一次发动多个请求\r\n    const result = await Promise.all([reqCategory(categoryId),reqCategory(pCategoryId)])\r\n      if ((result1.data.status === 0) & (result2.data.status === 0)) {\r\n/*         const cName1 = result1.data.data.name;\r\n        const cName2 = result2.data.data.name; */\r\n        this.setState({ cName1, cName2 });\r\n      } else {\r\n        Message.error(\"请求分类失败\");\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    //读取携带过来的state\r\n    const { name, desc, price, detail, imgs } = this.props.location.state.desc;\r\n    // console.log(name,desc,price,detail,imgs)\r\n    // console.log(this.props)\r\n    const title = (\r\n      <span>\r\n        <RollbackOutlined onClick={() => this.props.history.goBack()} />{\" \"}\r\n        商品详情\r\n      </span>\r\n    );\r\n    return (\r\n      <Card title={title}>\r\n        <List>\r\n          <List.Item>\r\n            <span className=\"left\">商品名称:</span>\r\n            <span style={{ marginLeft: 0 }}>{name}</span>\r\n          </List.Item>\r\n          <List.Item>\r\n            <span className=\"left\">商品描述:</span>\r\n            <span>{desc}</span>\r\n          </List.Item>\r\n          <List.Item>\r\n            <span className=\"left\">商品价格:</span>\r\n            <span>{price}</span>\r\n          </List.Item>\r\n          <List.Item>\r\n            <span className=\"left\">所属分类:</span>\r\n            <span>\r\n              {this.state.cName1}\r\n              {this.state.cName2\r\n                ? \"-->\" + this.state.cName2\r\n                : this.state.cName1}\r\n            </span>\r\n          </List.Item>\r\n          <List.Item>\r\n            <span className=\"left\">商品图片:</span>\r\n            <span>\r\n              {imgs.map((img) => (\r\n                <img\r\n                  key={img.name}\r\n                  className=\"product-img\"\r\n                  alt={img.name}\r\n                  src={img.url}\r\n                ></img>\r\n              ))}\r\n            </span>\r\n          </List.Item>\r\n          <List.Item style={{ float: \"left\" }}>\r\n            <span className=\"left\">商品详情:</span>\r\n            <span dangerouslySetInnerHTML={{ __html: detail }}></span>\r\n          </List.Item>\r\n        </List>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(Detail);\r\n"]},"metadata":{},"sourceType":"module"}