{"ast":null,"code":"import \"antd/es/card/style/css\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/message/style/css\";\nimport _Message from \"antd/es/message\";\nimport \"antd/es/select/style/css\";\nimport _Select from \"antd/es/select\";\nvar _jsxFileName = \"D:\\\\desk\\\\\\u5C1A\\u7845\\u8C37React\\u5168\\u6808\\u9879\\u76EE\\u3010\\u8C37\\u7C92\\u540E\\u53F0\\u3011\\u6559\\u7A0B\\\\React-admin\\\\src\\\\pages\\\\product\\\\home.jsx\";\nimport React, { Component } from 'react';\nimport '@ant-design/icons';\nimport LinkButton from '../../component/link-button';\nimport { reqProducts } from '../../api/';\nimport { PAGE_SIZE } from '../../utils/constant';\nimport { set } from 'store';\n/* 默认字路由 */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Option = _Select.Option;\nexport default class Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      total: 0,\n      loading: false\n    };\n\n    this.getProducts = async pageNum => {\n      this.setState({\n        loading: true\n      });\n      const result = await reqProducts(pageNum, PAGE_SIZE); // console.log(result);\n\n      this.setState({\n        loading: false\n      });\n\n      if (result.status === 200) {\n        this.setState({\n          products: result.data.data.list,\n          total: result.data.data.total\n        });\n      } else {\n        _Message.error('请求失败，请稍后重试');\n      }\n    };\n  }\n\n  UNSAFE_componentWillMount() {\n    this.columns = [{\n      width: 300,\n      title: '商品名称',\n      dataIndex: 'name',\n      key: 'name'\n    }, {\n      title: '商品描述',\n      dataIndex: 'desc',\n      key: 'desc'\n    }, {\n      width: 100,\n      title: '价格',\n      dataIndex: 'price',\n      key: 'price',\n      render: price => '￥' + price\n    }, {\n      width: 150,\n      title: '状态',\n      dataIndex: 'status',\n      key: 'status',\n      render: status => {\n        return status ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(_Button, {\n            type: \"primary\",\n            children: \"\\u4E0B\\u67B6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u5728\\u552E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 37\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(_Button, {\n            type: \"primary\",\n            children: \"\\u4E0A\\u67B6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u4E0B\\u67B6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 46\n        }, this);\n      }\n    }, {\n      width: 100,\n      title: '操作',\n      dataIndex: 'action',\n      key: 'action',\n      render: () => {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(LinkButton, {\n            children: \"\\u8BE6\\u60C5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 34\n          }, this), /*#__PURE__*/_jsxDEV(LinkButton, {\n            children: \"\\u4FEE\\u6539\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 28\n        }, this);\n      }\n    }];\n  }\n\n  componentDidMount() {\n    this.getProducts(3);\n  }\n\n  render() {\n    const title = /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(_Select, {\n        style: {\n          width: 150\n        },\n        children: /*#__PURE__*/_jsxDEV(Option, {\n          value: \"1\",\n          children: \"\\u6309\\u540D\\u79F0\\u641C\\u7D22\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(_Input, {\n        style: {\n          width: 200\n        },\n        placeholder: \"\\u5173\\u952E\\u5B57\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 89\n      }, this), /*#__PURE__*/_jsxDEV(_Button, {\n        type: \"primary\",\n        children: \"\\u641C\\u7D22\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 135\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this);\n\n    const extra = /*#__PURE__*/_jsxDEV(\"button\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(_Card, {\n      title: title,\n      extra: extra,\n      children: [/*#__PURE__*/_jsxDEV(_Table, {\n        pagination: {\n          total: this.state.total,\n          defaultPageSize: PAGE_SIZE,\n          showQuickJumper: true,\n          onChange: pageNum => {\n            this.getProducts(pageNum);\n          }\n        },\n        bordered: true,\n        rowKey: \"_id\",\n        dataSource: this.state.products,\n        columns: this.columns\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), \";\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/desk/尚硅谷React全栈项目【谷粒后台】教程/React-admin/src/pages/product/home.jsx"],"names":["React","Component","LinkButton","reqProducts","PAGE_SIZE","set","Option","Home","state","products","total","loading","getProducts","pageNum","setState","result","status","data","list","error","UNSAFE_componentWillMount","columns","width","title","dataIndex","key","render","price","componentDidMount","extra","defaultPageSize","showQuickJumper","onChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport {Message,Card,Select,Input,Button,Table, message}from 'antd'\r\nimport {} from '@ant-design/icons'\r\nimport LinkButton from '../../component/link-button'\r\nimport {reqProducts} from '../../api/'\r\nimport {PAGE_SIZE} from '../../utils/constant'\r\nimport { set } from 'store'\r\n/* 默认字路由 */\r\nconst Option = Select.Option\r\nexport default class Home extends Component {\r\n    state={\r\n        products:[],\r\n        total:0,\r\n        loading:false,\r\n    }\r\n    /* 获取指定页码的料表数据 */\r\n    getProducts=async (pageNum)=>{\r\n        this.setState({loading:true})\r\n        const result =await reqProducts(pageNum,PAGE_SIZE);\r\n        // console.log(result);\r\n        this.setState({loading:false})\r\n        if(result.status===200){\r\n            this.setState({products:result.data.data.list,total:result.data.data.total})\r\n        }else{\r\n            Message.error('请求失败，请稍后重试')\r\n        }\r\n    }\r\n    UNSAFE_componentWillMount(){\r\n            this.columns = [\r\n                {\r\n                    width:300,\r\n                  title: '商品名称',\r\n                  dataIndex: 'name',\r\n                  key: 'name',\r\n                },\r\n                {\r\n                  title: '商品描述',\r\n                  dataIndex: 'desc',\r\n                  key: 'desc',\r\n                },\r\n                {\r\n                    width:100,\r\n                  title: '价格',\r\n                  dataIndex: 'price',\r\n                  key: 'price',\r\n                  render:(price) => '￥'+price\r\n                  \r\n                },\r\n                {\r\n                    width:150,\r\n                  title: '状态',\r\n                  dataIndex: 'status',\r\n                  key: 'status',\r\n                  render:(status) => {\r\n                      return status?<span>\r\n                      <Button type='primary'>下架</Button>\r\n                      <span>在售</span></span>:<span>\r\n                      <Button type='primary'>上架</Button>\r\n                      <span>下架</span></span>\r\n                  }\r\n                },\r\n                {\r\n                    width:100,\r\n                  title: '操作',\r\n                  dataIndex: 'action',\r\n                  key: 'action',\r\n                  render:()=>{\r\n                    return <span><LinkButton>详情</LinkButton>\r\n                    <LinkButton>修改</LinkButton></span>\r\n                  }\r\n                },\r\n              ];    \r\n    }\r\n    componentDidMount(){\r\n        this.getProducts(3);\r\n    }\r\n    render() {\r\n        const title=(\r\n            <span><Select style={{width:150}}><Option value='1' >按名称搜索</Option></Select><Input style={{width:200}} placeholder='关键字'/><Button type='primary'>搜索</Button></span>)\r\n        const extra=(\r\n            <button></button>)\r\n\r\n      \r\n        return (\r\n            \r\n            <Card title={title} extra={extra}>\r\n                <Table pagination={{total:this.state.total,defaultPageSize:PAGE_SIZE,showQuickJumper:true,onChange:(pageNum)=>{this.getProducts(pageNum)}}} bordered rowKey='_id' dataSource={this.state.products} columns={this.columns} />;\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}