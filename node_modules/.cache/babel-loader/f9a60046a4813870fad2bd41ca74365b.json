{"ast":null,"code":"/* 包含n个action creator函数的模块\r\n同步action:对象{type:xxx,date:数据} \r\n异步action:函数 dispatch=>{}*/\nimport { SET_HEAD_TITLE, RECEIVE_USER, SHOW_ERROR_MSG } from './action-type';\nimport { reqLogin } from '../api';\n\n/* 设置头部标题的同步action */\nexport const setHeadTitle = headTitle => ({\n  type: SET_HEAD_TITLE,\n  data: headTitle\n});\nexport const receiveUser = user => ({\n  type: RECEIVE_USER,\n  data: user\n});\nexport const showErrorMsg = user => ({\n  type: SHOW_ERROR_MSG,\n  data: user\n});\n/*  \r\n登陆的异步 action\r\n*/\n\nexport const login = (username, password) => async dispatch => {\n  //执行异步请求\n  const result = await reqLogin(username, password); //如果成功，分发成功的同步action\n\n  if (result.status === 0) {\n    const user = result.data;\n    dispatch(receiveUser(user)); //登陆成功\n  } else {\n    //如果失败，分发成功的同步action\n    const msg = result.msg;\n  }\n};","map":{"version":3,"sources":["D:/desk/尚硅谷React全栈项目【谷粒后台】教程/React-admin/src/redux/actions.js"],"names":["SET_HEAD_TITLE","RECEIVE_USER","SHOW_ERROR_MSG","reqLogin","setHeadTitle","headTitle","type","data","receiveUser","user","showErrorMsg","login","username","password","dispatch","result","status","msg"],"mappings":"AAAA;AACA;AACA;AACA,SAAQA,cAAR,EAAuBC,YAAvB,EAAoCC,cAApC,QAAyD,eAAzD;AACA,SAAQC,QAAR,QAAuB,QAAvB;;AAEA;AACA,OAAO,MAAMC,YAAY,GAAIC,SAAD,KAAe;AAACC,EAAAA,IAAI,EAACN,cAAN;AAAqBO,EAAAA,IAAI,EAACF;AAA1B,CAAf,CAArB;AAEP,OAAO,MAAMG,WAAW,GAAIC,IAAD,KAAU;AAACH,EAAAA,IAAI,EAACL,YAAN;AAAmBM,EAAAA,IAAI,EAACE;AAAxB,CAAV,CAApB;AAEP,OAAO,MAAMC,YAAY,GAAID,IAAD,KAAU;AAACH,EAAAA,IAAI,EAACJ,cAAN;AAAqBK,EAAAA,IAAI,EAACE;AAA1B,CAAV,CAArB;AAEP;AACA;AACA;;AACA,OAAO,MAAME,KAAK,GAAG,CAACC,QAAD,EAAUC,QAAV,KAAuB,MAAMC,QAAN,IAAgB;AACxD;AACA,QAAMC,MAAM,GAAG,MAAMZ,QAAQ,CAACS,QAAD,EAAUC,QAAV,CAA7B,CAFwD,CAGxD;;AACA,MAAIE,MAAM,CAACC,MAAP,KAAkB,CAAtB,EAAyB;AACrB,UAAMP,IAAI,GAAGM,MAAM,CAACR,IAApB;AACAO,IAAAA,QAAQ,CAACN,WAAW,CAACC,IAAD,CAAZ,CAAR,CAFqB,CAGrB;AACD,GAJH,MAIS;AACL;AACA,UAAMQ,GAAG,GAACF,MAAM,CAACE,GAAjB;AAED;AAEN,CAdM","sourcesContent":["/* 包含n个action creator函数的模块\r\n同步action:对象{type:xxx,date:数据} \r\n异步action:函数 dispatch=>{}*/\r\nimport {SET_HEAD_TITLE,RECEIVE_USER,SHOW_ERROR_MSG} from './action-type'\r\nimport {reqLogin} from '../api'\r\nimport { Result } from 'antd'\r\n/* 设置头部标题的同步action */\r\nexport const setHeadTitle = (headTitle) =>({type:SET_HEAD_TITLE,data:headTitle})\r\n\r\nexport const receiveUser = (user) =>({type:RECEIVE_USER,data:user})\r\n\r\nexport const showErrorMsg = (user) =>({type:SHOW_ERROR_MSG,data:user})\r\n\r\n/*  \r\n登陆的异步 action\r\n*/\r\nexport const login = (username,password) => async dispatch=>{\r\n    //执行异步请求\r\n    const result = await reqLogin(username,password)\r\n    //如果成功，分发成功的同步action\r\n    if (result.status === 0) {\r\n        const user = result.data \r\n        dispatch(receiveUser(user))\r\n        //登陆成功\r\n      } else {\r\n        //如果失败，分发成功的同步action\r\n        const msg=result.msg\r\n        \r\n      }\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}