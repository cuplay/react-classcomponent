{"ast":null,"code":"import \"antd/es/card/style/css\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/list/style/css\";\nimport _List from \"antd/es/list\";\nimport \"antd/es/message/style/css\";\nimport _Message from \"antd/es/message\";\nvar _jsxFileName = \"D:\\\\desk\\\\\\u5C1A\\u7845\\u8C37React\\u5168\\u6808\\u9879\\u76EE\\u3010\\u8C37\\u7C92\\u540E\\u53F0\\u3011\\u6559\\u7A0B\\\\React-admin\\\\src\\\\pages\\\\product\\\\detail.jsx\";\nimport React, { Component } from \"react\";\nimport { RollbackOutlined } from \"@ant-design/icons\";\nimport { withRouter } from 'react-router-dom';\nimport { reqCategory } from \"../../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Detail extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cName1: '',\n      cName2: ''\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      pCategoryId,\n      categoryId\n    } = this.props.location.state.desc;\n\n    if (pCategoryId === '0') {\n      // 一级分类\n      const result = await reqCategory(categoryId);\n      console.log(result);\n\n      if (result.state === 200) {\n        const cName1 = result.data.data.name;\n        this.setState({\n          cName1\n        });\n      } else {\n        _Message.error('请求分类失败');\n      }\n    } else {\n      const result1 = await reqCategory(categoryId);\n      const result2 = await reqCategory(pCategoryId);\n      console.log(result1);\n      const cName1 = result1.data.data.name;\n      const cName2 = result2.data.data.name;\n      this.setState({\n        cName1,\n        cName2\n      });\n    }\n  }\n\n  render() {\n    //读取携带过来的state\n    const {\n      name,\n      desc,\n      price,\n      detail,\n      imgs\n    } = this.props.location.state.desc; // console.log(name,desc,price,detail,imgs)\n    // console.log(this.props)\n\n    const title = /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(RollbackOutlined, {\n        onClick: () => this.props.history.goBack()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), \" \\u5546\\u54C1\\u8BE6\\u60C5\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(_Card, {\n      title: title,\n      children: /*#__PURE__*/_jsxDEV(_List, {\n        children: [/*#__PURE__*/_jsxDEV(_List.Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u540D\\u79F0:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: 0\n            },\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 52\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(_List.Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u63CF\\u8FF0:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: desc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(_List.Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u4EF7\\u683C:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(_List.Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u6240\\u5C5E\\u5206\\u7C7B:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [this.state.cName1, this.state.cName2 ? '-->' + this.state.cName2 : this.state.cName1, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(_List.Item, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u56FE\\u7247:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: imgs.map(img => /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"product-img\",\n              alt: img.name,\n              src: img.url\n            }, img.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(_List.Item, {\n          style: {\n            float: 'left'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"left\",\n            children: \"\\u5546\\u54C1\\u8BE6\\u60C5:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            dangerouslySetInnerHTML: {\n              __html: detail\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Detail);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["D:/desk/尚硅谷React全栈项目【谷粒后台】教程/React-admin/src/pages/product/detail.jsx"],"names":["React","Component","RollbackOutlined","withRouter","reqCategory","Detail","state","cName1","cName2","componentDidMount","pCategoryId","categoryId","props","location","desc","result","console","log","data","name","setState","error","result1","result2","render","price","detail","imgs","title","history","goBack","marginLeft","map","img","url","float","__html"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Card, List,Message } from \"antd\"; \r\nimport { RollbackOutlined } from \"@ant-design/icons\";\r\nimport { withRouter } from 'react-router-dom'\r\nimport { reqCategory} from \"../../api\";\r\n\r\n class Detail extends Component {\r\n     state={\r\n         cName1:'',\r\n         cName2:'',\r\n     }\r\n     async componentDidMount(){\r\n        const {pCategoryId,categoryId}= this.props.location.state.desc\r\n        if(pCategoryId==='0'){\r\n            // 一级分类\r\n            const result = await reqCategory(categoryId)\r\n            console.log(result)\r\n            if(result.state===200){\r\n                const cName1 = result.data.data.name\r\n                this.setState({cName1})\r\n            }else{\r\n                Message.error('请求分类失败')\r\n            }\r\n            \r\n            \r\n            \r\n        }else{\r\n            const result1 = await reqCategory(categoryId)\r\n            const result2 = await reqCategory(pCategoryId)\r\n            console.log(result1)\r\n            const cName1 = result1.data.data.name\r\n            const cName2 = result2.data.data.name\r\n            this.setState({cName1,cName2})\r\n        }\r\n     }\r\n  render() {\r\n      //读取携带过来的state\r\n    const {name,desc,price,detail,imgs}= this.props.location.state.desc\r\n    // console.log(name,desc,price,detail,imgs)\r\n    // console.log(this.props)\r\n    const title = (\r\n      <span>\r\n        <RollbackOutlined onClick={()=>this.props.history.goBack()}/> 商品详情\r\n      </span>\r\n    );\r\n    return <Card title={title}>\r\n        <List>\r\n            <List.Item >\r\n                <span className='left'>商品名称:</span><span style={{marginLeft:0}}>{name}</span>\r\n            </List.Item>\r\n            <List.Item>\r\n                <span className='left'>商品描述:</span>\r\n                <span >{desc}</span>\r\n            </List.Item>\r\n            <List.Item>\r\n                <span className='left'>商品价格:</span>\r\n                <span >{price}</span>\r\n            </List.Item>\r\n            <List.Item>\r\n                <span className='left'>所属分类:</span>\r\n                <span>{this.state.cName1}{this.state.cName2?'-->'+this.state.cName2:this.state.cName1})</span>\r\n            </List.Item>\r\n            <List.Item>\r\n                <span className='left'>商品图片:</span>\r\n                <span>{imgs.map(img => (<img key={img.name} className='product-img' alt={img.name} src={img.url}></img>))}</span>\r\n            </List.Item>\r\n            <List.Item style={{float:'left'}}>\r\n                <span className='left'>商品详情:</span>\r\n                <span dangerouslySetInnerHTML={{__html:detail}}></span>\r\n            </List.Item>\r\n        </List>\r\n    </Card>;\r\n  }\r\n}\r\nexport default withRouter(Detail);"]},"metadata":{},"sourceType":"module"}